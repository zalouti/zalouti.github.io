<!DOCTYPE html>
<html lang="zh-cn">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='如何成为“管长”？ 近日，北京疫情防控形势严峻，清华大学应疫情防控要求，开始了几乎一天一检的核酸检测。其中，核酸检测通过博奥检验第三方机构进行'><title>如何成为管长？</title>

<link rel='canonical' href='https://zalouti.github.io/p/%E5%A6%82%E4%BD%95%E6%88%90%E4%B8%BA%E7%AE%A1%E9%95%BF/'>

<link rel="stylesheet" href="/scss/style.min.376a47deb3c95f87ae753fdc13dfd79f27806636b163a113a6ef59c48c3138af.css"><meta property='og:title' content='如何成为管长？'>
<meta property='og:description' content='如何成为“管长”？ 近日，北京疫情防控形势严峻，清华大学应疫情防控要求，开始了几乎一天一检的核酸检测。其中，核酸检测通过博奥检验第三方机构进行'>
<meta property='og:url' content='https://zalouti.github.io/p/%E5%A6%82%E4%BD%95%E6%88%90%E4%B8%BA%E7%AE%A1%E9%95%BF/'>
<meta property='og:site_name' content='第二基地'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='babyject' /><meta property='article:published_time' content='2022-05-30T10:54:42&#43;08:00'/><meta property='article:modified_time' content='2022-05-30T10:54:42&#43;08:00'/>
<meta name="twitter:title" content="如何成为管长？">
<meta name="twitter:description" content="如何成为“管长”？ 近日，北京疫情防控形势严峻，清华大学应疫情防控要求，开始了几乎一天一检的核酸检测。其中，核酸检测通过博奥检验第三方机构进行"><style>
    :root {
        --article-font-family: "Noto Serif SC", var(--base-font-family);
    }
</style>

<script>
		(function () {
		    const customFont = document.createElement('link');
		    customFont.href = "https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap";
		
		    customFont.type = "text/css";
		    customFont.rel = "stylesheet";
		
		    document.head.appendChild(customFont);
		}());
</script>
    </head>
    <body class="
    article-page has-toc
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        extended
    
">
    
        <div id="article-toolbar">
            <a href="/" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>返回</span>
            </a>
        </div>
    
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <h2 class="article-title">
        <a href="/p/%E5%A6%82%E4%BD%95%E6%88%90%E4%B8%BA%E7%AE%A1%E9%95%BF/">如何成为管长？</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">May 30, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 4 分钟
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <h1 id="如何成为管长">如何成为“管长”？</h1>
<p>近日，北京疫情防控形势严峻，清华大学应疫情防控要求，开始了几乎一天一检的核酸检测。其中，核酸检测通过博奥检验第三方机构进行，采用的某种收集样本的试管，将以十人一组的方法收集一批待检测的咽拭子。第一个拿到试管的同学往往会十分兴奋地在朋友圈炫耀自己成为了管长，或者有时戏称为“大捅领”。许多同学因为在疫情期间无法成为“管长”而十分沮丧，无法成为“大捅领”使得许多同学在疫情封校期间十分痛苦，这非常不利于广大清华学子的身心健康。</p>
<p>为了帮助大家提升成为“管长”的概率，本文将试图对核酸检测应用随机过程进行建模，为大家提供一套提升成为管长的概率的方法。受限于作者随机过程学得不咋地，我们将主要集中在以下三个问题来探讨：</p>
<ol>
<li>成为管长的天时：不同时间段应该如何选择到达时刻才更有可能成为管长？</li>
<li>成为管长的地利：在紫荆篮球场，向左转还是向右转更容易成为管长？</li>
<li>成为管长的人和：叫上对象一起去测核酸是否会使得成为管长的概率为一个人去的两倍？</li>
</ol>
<h2 id="模型假设">模型假设</h2>
<p>每日的核酸检测分为上下午两场，我们此处仅对下午场进行分析。下午场的核酸检测从14:00开始，直到17:00结束，历时3个小时，因此我们的时间段设置为$t\in [0,180]$，由于气温原因，14:00进行核酸检测的同学人数较少，而上午场核酸检测即将结束时人数会激增，我们不妨假设非齐次到达率为二次函数：
$$
\lambda(t)=at^2+b
$$
上式$a、b$待定，为了使得模型符合真实情况，不妨设：
$$
\lambda(0)=10\quad \lambda(180)=100
$$
则非齐次的到达率$\lambda(t)$满足：
$$
\lambda(t)=\frac{1}{360}t^2+10
$$
设从$t=0$时刻到$t=s$时刻中到达的人数为$N(s)$，由非其次泊松过程可知，在时间段$[s,t+s]$中到达$n$人的概率为：
$$
P(N(t+s)-N(s)=n)=\frac{(m(t+s)-m(s))^n}{n!}e^{-(m(t+s)-m(s))}
$$
其中，$n=0,1,2,&hellip;$，对于$\forall t&gt;0,s \geq0$，此处$m(t)=\int_0^t \lambda(\tau)d \tau$。</p>
<p>由于每十人中取第一个人为“管长”，我们假设在到达时并不清楚之前核酸检测的情况，理论上我们要成为“管长”的话，至多需要等待9人，即上式中的$n=9$，代入$\lambda(t)=\frac{1}{360}t^2+10$的假设可得：
$$
P(N(t+s)-N(s)=9)=\frac{1}{9!}(\frac{(t+s)^3-s^3}{1080}+10t)^9exp(-\frac{(t+s)^3-s^3}{1080}-10t)
$$</p>
<h2 id="成为管长的天时">成为“管长”的天时</h2>
<p>利用Matlab作图，取x坐标为时间段t，y坐标为到达时间s，z坐标为这段时间中有9人到达的概率，可知：</p>
<p><figure 
	>
	<a href="https://s2.loli.net/2022/05/29/BMbANiy9DdRKYGU.png" >
		<img src="https://s2.loli.net/2022/05/29/BMbANiy9DdRKYGU.png"
			
			
			
			loading="lazy"
			alt="到达时间s-时间段t-概率p总图">
	</a>
	
	<figcaption>到达时间s-时间段t-概率p总图</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="https://s2.loli.net/2022/05/29/fI9XyLT2o4zjCHd.png" >
		<img src="https://s2.loli.net/2022/05/29/fI9XyLT2o4zjCHd.png"
			
			
			
			loading="lazy"
			alt="到达时间s-时间段t">
	</a>
	
	<figcaption>到达时间s-时间段t</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="https://s2.loli.net/2022/05/29/SHfVk1A4gRYLt9p.png" >
		<img src="https://s2.loli.net/2022/05/29/SHfVk1A4gRYLt9p.png"
			
			
			
			loading="lazy"
			alt="到达时间s-成为管长的概率p">
	</a>
	
	<figcaption>到达时间s-成为管长的概率p</figcaption>
	
</figure></p>
<p>上图为到达时刻$s$与成为“管长”的概率$P$的关系，其中颜色深浅与概率大小的关系已在上图右侧列出，每一个凸起的“峰”代表着一种固定的时间段$t$，从上述两图我们可以得到以下结论：</p>
<ul>
<li>随着到达时间$s$的推移，有9人抵达的时间段越来越短，“管长”产生的速率大大增加。直觉上，在人多的时候去参与核酸检测更有可能成为“管长”是合理的。</li>
<li>早期产生“管长”的等待时间十分漫长，但同样产生“管长”的高概率时间持续更长，即第二张图黄色带部分更加粗壮。因此早一些去核酸检测虽然管长产生时间漫长，但是产生管长的高概率持续时间也更长，反观晚一些去测核酸反而会出现概率回落至10%以下的现象</li>
</ul>
<h2 id="成为管长的地利">成为“管长”的地利</h2>
<p>在紫荆篮球场进行核酸检测时，入口处大多数同学会选择左转（由于这边靠近食堂且不需要绕路），只有少部分同学会选择向右转，这显然对应了一个泊松过程的分裂。但是分裂也是非齐次的，这是由于，在初期总人数较少时，左侧的核酸检测点没有满负荷，几乎没有人会选择右侧，但当检测时间快要结束时，左侧的核酸检测点满负荷运转，此时选择去右侧测核酸节约时间的同学开始增加。</p>
<p>我们不妨设分裂至右侧的比率为$q(t)$，我们假设其为线性函数，且满足：
$$
q(0)=0\quad q(180)=\frac{4}{5}
$$
可以得到
$$
q(t)=\frac{1}{225}t
$$
则左侧的到达率即为$\lambda(t)(1-q(t))$，右侧的到达率为$\lambda(t)q(t)$，重新计算成为“管长”的概率并绘图，可得：</p>
<p><figure 
	>
	<a href="https://s2.loli.net/2022/05/29/HFQxPY8aBeAUb4G.png" >
		<img src="https://s2.loli.net/2022/05/29/HFQxPY8aBeAUb4G.png"
			
			
			
			loading="lazy"
			alt="两侧成为管长的概率分布">
	</a>
	
	<figcaption>两侧成为管长的概率分布</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="https://s2.loli.net/2022/05/29/MBAlewvm4OGTLWJ.png" >
		<img src="https://s2.loli.net/2022/05/29/MBAlewvm4OGTLWJ.png"
			
			
			
			loading="lazy"
			alt="两侧成为管长的概率分布的俯视图">
	</a>
	
	<figcaption>两侧成为管长的概率分布的俯视图</figcaption>
	
</figure></p>
<p><figure 
	>
	<a href="https://s2.loli.net/2022/05/29/3Uq8IwBAMekdiS6.png" >
		<img src="https://s2.loli.net/2022/05/29/3Uq8IwBAMekdiS6.png"
			
			
			
			loading="lazy"
			alt="两侧成为管长的概率分布p-到达时间s">
	</a>
	
	<figcaption>两侧成为管长的概率分布p-到达时间s</figcaption>
	
</figure></p>
<p>可以看出，两侧成为管长的概率基本相同的情况下，右侧成为管长的时间间隔更加短暂，产生管长更加迅速。</p>
<h2 id="成为管长的人和">成为“管长”的人和</h2>
<p>如果此时叫上自己的npy一起去测核酸，那么成为“管长”的概率是否会翻一番呢？我们假设两个人一起去测核酸时，其中一个人成为“管长”之多需要等待8个人，修正$n=8$代入计算可得：</p>
<p><figure 
	>
	<a href="https://s2.loli.net/2022/05/29/rJ2SkjMPhtE9lwv.png" >
		<img src="https://s2.loli.net/2022/05/29/rJ2SkjMPhtE9lwv.png"
			
			
			
			loading="lazy"
			alt="两人一起去测核酸的结果">
	</a>
	
	<figcaption>两人一起去测核酸的结果</figcaption>
	
</figure></p>
<p>可以得到，两个人一起去测核酸并不会让成为“管长”的概率增加为原来的两倍。但是两个人一起去做核酸，确实可以增加成为“管长”的概率。</p>
<h2 id="总结">总结</h2>
<p>本文分别从如何成为“管长”的天时、地利、人和方面，论述了成为“管长”的具体过程与选择。由于模型建立十分粗糙，难免与实际情况会有出入。最后，感谢奋斗在一线的医务工作者，也希望大家都能成为“管长”。</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/babyject/">babyject</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css"integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js"integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8"crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js"integrity="sha384-vZTG03m&#43;2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl"crossorigin="anonymous"
                defer="true"
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    

    <aside class="related-contents--wrapper">
    
    
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="zalouti/comment"
        issue-term="pathname"
        
        label="utterances"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <script src="https://utteranc.es/client.js"
repo="git@github.com:zalouti/zalouti.github.io.git"
issue-term="title"
theme="github-light"
crossorigin="anonymous"
async>

</script>
    <section class="copyright">
        &copy; 
        
        2022 第二基地
    </section>
    
    <section class="powerby">
        
            “群星的尽头” <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.6.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    
        <aside class="sidebar right-sidebar sticky">
            <section class="widget archives">
                <div class="widget-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                </div>
                <h2 class="widget-title section-title">目录</h2>
                
                <div class="widget--toc">
                    <nav id="TableOfContents">
  <ol>
    <li><a href="#模型假设">模型假设</a></li>
    <li><a href="#成为管长的天时">成为“管长”的天时</a></li>
    <li><a href="#成为管长的地利">成为“管长”的地利</a></li>
    <li><a href="#成为管长的人和">成为“管长”的人和</a></li>
    <li><a href="#总结">总结</a></li>
  </ol>
</nav>
                </div>
            </section>
        </aside>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

        <script type="module" src="https://js.withorbit.com/orbit-web-component.js"></script>
    </body>
</html>
